import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a,f as s,b as i,o as r}from"./app-CZifbq50.js";const l={};function n(p,e){return r(),o("div",null,[e[0]||(e[0]=a("p",null,"В этом руководстве рассмотрим, как настроить отправку уведомлений из Proxmox VE в Telegram.",-1)),s(" more "),e[1]||(e[1]=i(`<h3 id="подготовка" tabindex="-1"><a class="header-anchor" href="#подготовка"><span>Подготовка</span></a></h3><p>Для отправки сообщений в Telegram необходимо:</p><ol><li>Создать бота в Telegram (через BotFather).</li><li>Получить <code>BOT_TOKEN</code> и <code>CHAT_ID</code> для бота:</li></ol><p><code>BOT_TOKEN</code>: Это генерируется при создании бота с помощью BotFather.</p><p><code>CHAT_ID</code>: Это можно получить, отправив сообщение боту и используя Telegram API для получения идентификатора чата (пример: <code>https://api.telegram.org/bot&lt;ВАШ_TOKEN&gt;/getUpdates</code>).</p><h2 id="поля-webhook-в-proxmox" tabindex="-1"><a class="header-anchor" href="#поля-webhook-в-proxmox"><span>Поля WebHook в Proxmox</span></a></h2><p>Далее необходимо добавить WebHook в Proxmox, перейдем в ЦОД и откроем Notifications, в Notification Targets нажмем добавить и выберем Webhook. В открывшимся окне заполним:</p><ol><li><strong>Endpoint Name</strong></li></ol><p>Любое имя, например: <code>Telegram-Webhook</code></p><ol start="2"><li><strong>Enable</strong></li></ol><p>Обязательно проверьте опцию включения вебхука.</p><ol start="3"><li><strong>Method/URL</strong></li></ol><p>Method: <code>POST</code> URL: <code>https://api.telegram.org/bot{{secrets.token}}/sendMessage</code></p><ol start="4"><li><strong>Заголовки</strong></li></ol><p>Добавьте необходимые заголовки для аутентификации и формата данных.</p><p>Key: <code>Content-Type</code> Value: <code>application/json</code></p><ol start="5"><li><strong>Тело письма</strong></li></ol><div class="language-json" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;chat_id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;{{secrets.chat_id}}&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;text&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&lt;pre&gt;{{escape message}}&lt;/pre&gt;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;parse_mode&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;HTML&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ol start="6"><li><strong>Secrets</strong></li></ol><p>Secrets 1: Key: <code>token</code> Value: <code>ВАШ_BOT_TOKEN</code></p><p>Secrets 2: Key: <code>chat_id</code> Value: <code>ВАШ_CHAT_ID</code></p><ol start="7"><li><strong>Комментарий</strong></li></ol><p>Например: Вебхук для отправки уведомлений в Telegram</p><h2 id="включим-notification-matchers" tabindex="-1"><a class="header-anchor" href="#включим-notification-matchers"><span>Включим Notification Matchers</span></a></h2><p>Добавить новый со следующими параметрами:</p><ol><li><strong>Общее</strong></li></ol><p>Matcher Name: <code>Любое имя</code></p><p>Включить: <strong>Обязательно проверьте опцию включения</strong></p><p>Комментарий: <code>Ваш комментарий</code></p><ol start="2"><li><strong>Match Rules</strong></li></ol><p>Тут не нужно ничего делать.</p><ol start="3"><li><strong>Targets to notify</strong></li></ol><p>Отмечаем <code>Telegram-Webhook</code> созданный ранее.</p><h2 id="тестирование" tabindex="-1"><a class="header-anchor" href="#тестирование"><span>Тестирование</span></a></h2><p>После настройки используйте функцию тестирования Proxmox, чтобы убедиться в поступлении сообщения.</p>`,35))])}const h=t(l,[["render",n]]),g=JSON.parse('{"path":"/docs/proxmox/uvedomleniya-v-telegram-bota.html","title":"Уведомления в Telegram бота","lang":"ru-RU","frontmatter":{"title":"Уведомления в Telegram бота","icon":"bell","date":"2025-05-05T00:00:00.000Z","category":["Proxmox"],"tag":["уведомления","telegram"],"star":true,"description":"В этом руководстве рассмотрим, как настроить отправку уведомлений из Proxmox VE в Telegram.","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Уведомления в Telegram бота\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-05-05T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-05T19:52:28.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://klimov.su/docs/proxmox/uvedomleniya-v-telegram-bota.html"}],["meta",{"property":"og:site_name","content":"Дмитрий Климов"}],["meta",{"property":"og:title","content":"Уведомления в Telegram бота"}],["meta",{"property":"og:description","content":"В этом руководстве рассмотрим, как настроить отправку уведомлений из Proxmox VE в Telegram."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ru-RU"}],["meta",{"property":"og:updated_time","content":"2025-06-05T19:52:28.000Z"}],["meta",{"property":"article:tag","content":"telegram"}],["meta",{"property":"article:tag","content":"уведомления"}],["meta",{"property":"article:published_time","content":"2025-05-05T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-05T19:52:28.000Z"}]]},"git":{"createdTime":1749153148000,"updatedTime":1749153148000,"contributors":[{"name":"Godparent","username":"Godparent","email":"dmitriy@klimov.su","commits":1,"url":"https://github.com/Godparent"}]},"readingTime":{"minutes":0.79,"words":238},"filePathRelative":"docs/proxmox/uvedomleniya-v-telegram-bota.md","excerpt":"<p>В этом руководстве рассмотрим, как настроить отправку уведомлений из Proxmox VE в Telegram.</p>\\n","autoDesc":true}');export{h as comp,g as data};
