import{c as n,a as s,b as y,F as g,g as k,d as p,f as m,t as o,h,v as f,i as d,o as r}from"./app-CZifbq50.js";import{_ as x}from"./plugin-vue_export-helper-DlAUqK2U.js";const A={data(){return{groups:{user:{read:{value:!1,label:"Чтение",letter:"r"},write:{value:!1,label:"Запись",letter:"w"},execute:{value:!1,label:"Выполнение",letter:"x"}},group:{read:{value:!1,label:"Чтение",letter:"r"},write:{value:!1,label:"Запись",letter:"w"},execute:{value:!1,label:"Выполнение",letter:"x"}},other:{read:{value:!1,label:"Чтение",letter:"r"},write:{value:!1,label:"Запись",letter:"w"},execute:{value:!1,label:"Выполнение",letter:"x"}}},specialBits:{setuid:{value:!1,name:"SetUID",symbol:"s",place:"пользователя"},setgid:{value:!1,name:"SetGID",symbol:"s",place:"группы"},sticky:{value:!1,name:"Sticky Bit",symbol:"t",place:"остальных"}},groupNames:{user:"Владелец (User)",group:"Группа (Group)",other:"Остальные (Other)"},filename:"file.txt",recursive:!1,changeOwner:!1,owner:"",changeGroup:!1,group:""}},computed:{basicPermission(){return Object.values(this.groups).map(t=>(t.read.value?4:0)+(t.write.value?2:0)+(t.execute.value?1:0)).join("")},specialBitsValue(){return(this.specialBits.setuid.value?4:0)+(this.specialBits.setgid.value?2:0)+(this.specialBits.sticky.value?1:0)},fullPermission(){return this.specialBitsValue>0?`${this.specialBitsValue}${this.basicPermission}`:this.basicPermission},symbolicPermission(){let t=Object.values(this.groups).map(e=>(e.read.value?"r":"-")+(e.write.value?"w":"-")+(e.execute.value?"x":"-")).join("");return this.specialBits.setuid.value&&(t=t.substr(0,2)+(this.groups.user.execute.value?"s":"S")+t.substr(3)),this.specialBits.setgid.value&&(t=t.substr(0,5)+(this.groups.group.execute.value?"s":"S")+t.substr(6)),this.specialBits.sticky.value&&(t=t.substr(0,8)+(this.groups.other.execute.value?"t":"T")+t.substr(9)),t},recursiveFlag(){return this.recursive?" -R":""},showAdvanced(){return this.recursive||this.changeOwner||this.changeGroup},fullCommand(){const t=[`chmod${this.recursiveFlag} ${this.fullPermission} ${this.filename}`];if(this.changeOwner&&this.owner){const e=this.changeGroup&&this.group?`${this.owner}:${this.group}`:this.owner;t.push(`chown${this.recursiveFlag} ${e} ${this.filename}`)}else this.changeGroup&&this.group&&t.push(`chgrp${this.recursiveFlag} ${this.group} ${this.filename}`);return t.join(" && ")}},methods:{focusOwnerCheckbox(){this.$nextTick(()=>{this.$refs.ownerCheckbox&&this.$refs.ownerCheckbox.focus()})},focusOwnerInput(){this.$nextTick(()=>{this.changeOwner&&this.$refs.ownerInput&&this.$refs.ownerInput.focus()})},focusGroupCheckbox(){this.$nextTick(()=>{this.$refs.groupCheckbox&&this.$refs.groupCheckbox.focus()})},focusGroupInput(){this.$nextTick(()=>{this.changeGroup&&this.$refs.groupInput&&this.$refs.groupInput.focus()})},focusFilenameInput(){this.$nextTick(()=>{this.$refs.filenameInput.focus()})}}},F={class:"permission-groups"},w=["onUpdate:modelValue"],I={class:"special-bits"},C=["onUpdate:modelValue"],D={class:"explanation"},G={class:"hint-container tip"},U={style:{"text-align":"center"}},S={class:"result"},O={class:"result"},B={class:"language-","data-highlighter":"shiki","data-ext":"",style:{"--shiki-dark":"#abb2bf","--shiki-dark-bg":"#282c34"}},V={class:"shiki shiki-themes one-dark-pro vp-code","copy-code":""},T={class:"language-"},E={class:"hint-container note"},P={class:"add-option"},N={class:"add-option"},j={class:"add-option"},M={class:"add-option"};function R(t,e,H,_,l,a){return r(),n("div",null,[e[21]||(e[21]=s("p",null,"Калькулятор Chmod позволяет быстро генерировать разрешения в числовом и символьном форматах. Включены дополнительные опции. Вы будете готовы скопировать и вставить команду chmod в терминал за считанные секунды.",-1)),s("div",F,[(r(!0),n(g,null,k(l.groups,(i,c)=>(r(),n("div",{key:c,class:"permission-group"},[s("h3",null,o(l.groupNames[c]),1),(r(!0),n(g,null,k(i,(u,b)=>(r(),n("label",{key:b,class:"permission-checkbox"},[h(s("input",{type:"checkbox","onUpdate:modelValue":v=>u.value=v},null,8,w),[[d,u.value]]),p(" "+o(u.label)+" ("+o(u.letter)+") ",1)]))),128))]))),128))]),s("div",I,[(r(!0),n(g,null,k(l.specialBits,(i,c)=>(r(),n("label",{key:c,class:"special-bit"},[h(s("input",{type:"checkbox","onUpdate:modelValue":u=>i.value=u},null,8,C),[[d,i.value]]),p(" "+o(i.name)+" ",1),s("span",D,"("+o(i.symbol)+" в правах "+o(i.place)+")",1)]))),128))]),s("div",G,[e[14]||(e[14]=s("p",{class:"hint-container-title"},"Результат",-1)),s("div",U,[e[12]||(e[12]=s("p",null,"Числовое представление",-1)),s("div",S,o(a.fullPermission),1),e[13]||(e[13]=p(" Символьное представление ",-1)),s("div",O,o(a.symbolicPermission),1),s("div",B,[e[11]||(e[11]=s("button",{type:"button",class:"vp-copy-code-button","aria-label":"Скопировать код","data-copied":"Скопировано"},null,-1)),s("pre",V,[s("code",T,[s("span",null,o(a.fullCommand),1)])])]),m(` chmod{{ recursiveFlag }} {{ fullPermission }} {{ filename }}
<div v-if="showAdvanced">
{{ fullCommand }}
</div> `)])]),s("div",E,[e[20]||(e[20]=s("p",{class:"hint-container-title"},"Дополнительные опции",-1)),s("div",P,[s("label",null,[e[15]||(e[15]=p("Имя файла/директории: ",-1)),h(s("input",{ref:"filenameInput",type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>l.filename=i),placeholder:"file.txt",class:"filename-input",onInput:e[1]||(e[1]=(...i)=>a.focusFilenameInput&&a.focusFilenameInput(...i))},null,544),[[f,l.filename]])])]),s("div",N,[s("label",null,[h(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=i=>l.recursive=i),ref:"recursiveCheckbox"},null,512),[[d,l.recursive]]),e[16]||(e[16]=p(" Рекурсивно (для директорий) ",-1)),e[17]||(e[17]=s("span",{class:"explanation"},"Применит флаг -R ко всем командам",-1))])]),s("div",j,[s("label",null,[h(s("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=i=>l.changeOwner=i),ref:"ownerCheckbox",onChange:e[4]||(e[4]=(...i)=>a.focusOwnerInput&&a.focusOwnerInput(...i))},null,544),[[d,l.changeOwner]]),e[18]||(e[18]=p(" Сменить владельца: ",-1))]),l.changeOwner?h((r(),n("input",{key:0,type:"text","onUpdate:modelValue":e[5]||(e[5]=i=>l.owner=i),ref:"ownerInput",onInput:e[6]||(e[6]=(...i)=>a.focusOwnerInput&&a.focusOwnerInput(...i))},null,544)),[[f,l.owner]]):m("v-if",!0)]),s("div",M,[s("label",null,[h(s("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=i=>l.changeGroup=i),ref:"groupCheckbox",onChange:e[8]||(e[8]=(...i)=>a.focusGroupInput&&a.focusGroupInput(...i))},null,544),[[d,l.changeGroup]]),e[19]||(e[19]=p(" Сменить группу: ",-1))]),l.changeGroup?h((r(),n("input",{key:0,type:"text","onUpdate:modelValue":e[9]||(e[9]=i=>l.group=i),ref:"groupInput",onInput:e[10]||(e[10]=(...i)=>a.focusGroupInput&&a.focusGroupInput(...i))},null,544)),[[f,l.group]]):m("v-if",!0)])]),e[22]||(e[22]=y(`<h2 id="описание-функционала" tabindex="-1"><a class="header-anchor" href="#описание-функционала"><span>Описание функционала:</span></a></h2><ol><li><p><strong>Установка прав доступа</strong>:</p><ul><li>Три группы чекбоксов для владельца (User), группы (Group) и остальных (Other)</li><li>Каждая группа имеет три разрешения: чтение (r), запись (w), выполнение (x)</li><li>При изменении чекбоксов автоматически вычисляется числовое и символьное представление прав</li></ul></li><li><p><strong>Специальные биты</strong>:</p><ul><li>SetUID (s в правах пользователя) - бит установки идентификатора пользователя</li><li>SetGID (s в правах группы) - бит установки идентификатора группы</li><li>Sticky Bit (t в правах других) - ограничивает удаление файлов в директории</li></ul></li><li><p><strong>Результаты</strong>:</p><ul><li>Полное числовое представление (например, 4755)</li><li>Полное символьное представление (например, rwsr-xr-x)</li><li>Базовая команда chmod с вычисленными правами</li></ul></li><li><p><strong>Дополнительные опции</strong>:</p><ul><li>Указание имени файла/директории</li><li>Рекурсивный флаг (<code>-R</code>) применяется ко всем командам (chmod, chown, chgrp)</li><li>Смена владельца (через chown)</li><li>Смена группы (через chgrp или chown)</li><li>Команды объединяются через <code>&amp;&amp;</code> для правильного последовательного выполнения</li></ul></li></ol><h2 id="описание-специальных-битов-chmod" tabindex="-1"><a class="header-anchor" href="#описание-специальных-битов-chmod"><span>Описание специальных битов chmod</span></a></h2><h3 id="setuid-suid-бит-установки-идентификатора-пользователя" tabindex="-1"><a class="header-anchor" href="#setuid-suid-бит-установки-идентификатора-пользователя"><span>SetUID (SUID) - бит установки идентификатора пользователя</span></a></h3><ul><li><strong>Числовое значение</strong>: 4 (первая цифра в chmod)</li><li><strong>Символьное представление</strong>: <code>s</code> в правах пользователя (заменяет <code>x</code>)</li><li><strong>Действие</strong>: <ul><li>При выполнении файла процесс получает права владельца файла, а не запустившего пользователя</li><li>Для директорий не имеет эффекта</li></ul></li><li><strong>Пример использования</strong>:<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4755</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/bin/passwd</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Программа passwd получает права root</span></span></code></pre></div></li></ul><div class="hint-container caution"><p class="hint-container-title">Потенциально опасен, должен использоваться с осторожностью</p></div><h3 id="setgid-sgid-бит-установки-идентификатора-группы" tabindex="-1"><a class="header-anchor" href="#setgid-sgid-бит-установки-идентификатора-группы"><span>SetGID (SGID) - бит установки идентификатора группы</span></a></h3><ul><li><strong>Числовое значение</strong>: 2 (первая цифра в chmod)</li><li><strong>Символьное представление</strong>: <code>s</code> в правах группы (заменяет <code>x</code>)</li><li><strong>Действие</strong>: <ul><li>Для файлов: аналогично SUID, но для группы</li><li>Для директорий: новые файлы наследуют группу директории, а не создающего пользователя</li></ul></li><li><strong>Пример использования</strong>:<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2775</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /shared_dir</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Все новые файлы будут с группой shared_dir</span></span></code></pre></div></li></ul><h3 id="sticky-bit-липкии-бит" tabindex="-1"><a class="header-anchor" href="#sticky-bit-липкии-бит"><span>Sticky Bit - липкий бит</span></a></h3><ul><li><strong>Числовое значение</strong>: 1 (первая цифра в chmod)</li><li><strong>Символьное представление</strong>: <code>t</code> в правах других (заменяет <code>x</code>)</li><li><strong>Действие</strong>: <ul><li>Для файлов: ранее использовался для оптимизации, сейчас редко применяется</li><li>Для директорий: разрешает удаление файлов только их владельцам (даже если есть права на запись)</li></ul></li><li><strong>Типичное применение</strong>:<div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1777</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Классический пример - временная директория</span></span></code></pre></div></li></ul><h3 id="особенности-отображения" tabindex="-1"><a class="header-anchor" href="#особенности-отображения"><span>Особенности отображения:</span></a></h3><ul><li>Буква <code>s</code>/<code>t</code> в lowercase означает, что установлен и спецбит, и execute-право:<div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rwsr-xr-x  # SUID + execute для владельца</span></span></code></pre></div></li><li>Буква <code>S</code>/<code>T</code> в uppercase означает, что установлен только спецбит без execute:<div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rwSr--r--  # SUID без execute для владельца</span></span></code></pre></div></li></ul><h3 id="комбинированное-использование" tabindex="-1"><a class="header-anchor" href="#комбинированное-использование"><span>Комбинированное использование:</span></a></h3><p>Можно комбинировать биты, складывая их значения:</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6770</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # SetUID + SetGID (4+2=6)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7777</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Все спецбиты (4+2+1=7)</span></span></code></pre></div><p>Эти специальные биты расширяют стандартную систему прав UNIX и позволяют реализовывать сложные сценарии управления доступом.</p>`,16))])}const L=x(A,[["render",R]]),W=JSON.parse('{"path":"/tools/chmod-calculator.html","title":"Калькулятор CHMOD","lang":"ru-RU","frontmatter":{"title":"Калькулятор CHMOD","icon":"streamline-plump:calculator-1-solid","pageInfo":false,"toc":false,"article":false,"comment":false,"lastUpdated":false,"description":"Калькулятор Chmod позволяет быстро генерировать разрешения в числовом и символьном форматах. Включены дополнительные опции. Вы будете готовы скопировать и вставить команду chmod...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"Калькулятор CHMOD\\",\\"description\\":\\"Калькулятор Chmod позволяет быстро генерировать разрешения в числовом и символьном форматах. Включены дополнительные опции. Вы будете готовы скопировать и вставить команду chmod...\\"}"],["meta",{"property":"og:url","content":"https://klimov.su/tools/chmod-calculator.html"}],["meta",{"property":"og:site_name","content":"Дмитрий Климов"}],["meta",{"property":"og:title","content":"Калькулятор CHMOD"}],["meta",{"property":"og:description","content":"Калькулятор Chmod позволяет быстро генерировать разрешения в числовом и символьном форматах. Включены дополнительные опции. Вы будете готовы скопировать и вставить команду chmod..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"ru-RU"}],["meta",{"property":"og:updated_time","content":"2025-07-02T11:16:22.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-02T11:16:22.000Z"}]]},"git":{"createdTime":1751454982000,"updatedTime":1751454982000,"contributors":[{"name":"Godparent","username":"Godparent","email":"dmitriy@klimov.su","commits":1,"url":"https://github.com/Godparent"}]},"readingTime":{"minutes":3.68,"words":1103},"filePathRelative":"tools/chmod-calculator.md","excerpt":"<p>Калькулятор Chmod позволяет быстро генерировать разрешения в числовом и символьном форматах. Включены дополнительные опции. Вы будете готовы скопировать и вставить команду chmod в терминал за считанные секунды.</p>\\n<div class=\\"permission-groups\\">\\n    <div v-for=\\"(group, name) in groups\\" :key=\\"name\\" class=\\"permission-group\\">\\n    <h3>{{ groupNames[name] }}</h3>\\n    <label v-for=\\"(perm, key) in group\\" :key=\\"key\\" class=\\"permission-checkbox\\">\\n        <input type=\\"checkbox\\" v-model=\\"perm.value\\"> {{ perm.label }} ({{ perm.letter }})\\n    </label>\\n    </div>\\n</div>","autoDesc":true}');export{L as comp,W as data};
