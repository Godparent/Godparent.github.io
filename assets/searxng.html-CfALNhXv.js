import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,b as l,a as i,e as a,d as e,r as t,o as d}from"./app-CZifbq50.js";const k={},c={style:{"text-align":"right"}};function g(o,s){const n=t("Badge"),h=t("VPIcon");return d(),r("div",null,[s[5]||(s[5]=l('<p>SearXNG — это бесплатный интернет-метапоисковый движок, который объединяет результаты более чем 70 поисковых сервисов. Это руководство настраивает рабочий экземпляр, доступ к которому можно получить с помощью домена через HTTPS. Функции включают:</p><ul><li>Самостоятельно размещенный</li><li>Нет отслеживания пользователей</li><li>Нет профилирования пользователей</li><li>Около 70 поддерживаемых поисковых систем</li><li>Простая интеграция с любой поисковой системой</li><li>Файлы cookie по умолчанию не используются.</li><li>Безопасные, зашифрованные соединения (HTTPS/SSL)</li></ul><h2 id="lxc" tabindex="-1"><a class="header-anchor" href="#lxc"><span>LXC</span></a></h2>',3)),i("ul",null,[i("li",null,[a(n,{text:"CPU",type:"info",vertical:"middle"}),s[0]||(s[0]=e()),a(n,{text:"2vCPU",type:"tip",vertical:"middle"})]),i("li",null,[a(n,{text:"RAM",type:"info",vertical:"middle"}),s[1]||(s[1]=e()),a(n,{text:"2GB",type:"tip",vertical:"middle"})]),i("li",null,[a(n,{text:"HDD",type:"info",vertical:"middle"}),s[2]||(s[2]=e()),a(n,{text:"8GB",type:"tip",vertical:"middle"})])]),s[6]||(s[6]=l(`<h2 id="установка" tabindex="-1"><a class="header-anchor" href="#установка"><span>Установка</span></a></h2><p>Установите необходимые пакеты</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>apt install git nginx nginx-extras</span></span></code></pre></div><p>Сначала мы создадим пользователя для SearXNG</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>useradd -mr -d &quot;/usr/local/searxng&quot; -c &#39;Privacy-respecting metasearch engine&#39; -s /bin/bash searxng</span></span></code></pre></div><p>Хотя скрипт автоматической установки ниже создает этого пользователя сам, мы можем пойти дальше и предоставить клонированному репозиторию правильные разрешения.</p><p>Теперь мы клонируем репозиторий SearXNG в <code>searxng</code> домашний каталог пользователя.</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>git clone https://github.com/searxng/searxng /usr/local/searxng/searxng-src</span></span></code></pre></div><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>cd /usr/local/searxng/searxng-src</span></span></code></pre></div><p>Установка SearXNG</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>./utils/searxng.sh install all</span></span></code></pre></div><h2 id="настроить-nginx" tabindex="-1"><a class="header-anchor" href="#настроить-nginx"><span>Настроить Nginx</span></a></h2><p>Создайте новый файл <code>nano /etc/nginx/sites-available/searxng.conf</code> и добавьте следующее:</p><div class="language-nginx line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="nginx" style="--vp-collapsed-lines:15;--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    listen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    server_name </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">searx.loc.lib s.loc.lib;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    server_tokens </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    access_log </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    error_log </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 301</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> https://$</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">server_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">request_uri</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    listen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">443</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ssl http2;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    server_name </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">searx.loc.lib s.loc.lib;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # If you want to log user activity, comment these</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    access_log </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/dev/null;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    error_log </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /dev/null;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    ssl_certificate </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/etc/nginx/ssl/searx-loc.pem;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    ssl_certificate_key </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/etc/nginx/ssl/searx-loc-key.pem;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    add_header </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Strict-Transport-Security </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;max-age=31536000; includeSubDomains&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> always;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # X-Frame-Options (XFO) header set to DENY</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    add_header </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">X-Frame-Options </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;DENY&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # Content Security Policy (CSP)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    add_header </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Content-Security-Policy </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;default-src &#39;self&#39;;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    location</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> / {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        uwsgi_pass </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">unix:///usr/local/searxng/run/socket;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        include </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uwsgi_params;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        uwsgi_param </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   HTTP_HOST             $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        uwsgi_param </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   HTTP_CONNECTION       $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">http_connection</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # see flaskfix.py</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        uwsgi_param </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   HTTP_X_SCHEME         $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        uwsgi_param </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   HTTP_X_SCRIPT_NAME    /searxng;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # see limiter.py</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        uwsgi_param </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   HTTP_X_REAL_IP        $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">remote_addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        uwsgi_param </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   HTTP_X_FORWARDED_FOR  $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><div class="hint-container important"><p class="hint-container-title">Не забудьте поменять имя сервера и путь до ssl сертификата на свои.</p></div><p>Теперь создайте символическую ссылку для включения этого сайта</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>ln -s /etc/nginx/sites-available/searxng.conf /etc/nginx/sites-enabled/searxng.conf</span></span></code></pre></div><p>Перезапустите Nginx и SearXNG</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>systemctl restart nginx</span></span></code></pre></div><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>service uwsgi restart searxng</span></span></code></pre></div><h2 id="конфигурация" tabindex="-1"><a class="header-anchor" href="#конфигурация"><span>Конфигурация</span></a></h2><p>Вы можете изменить настройки, отредактировав:</p><div class="language-" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>nano /etc/searxng/settings.yml</span></span></code></pre></div><hr>`,24)),i("div",c,[i("p",null,[a(h,{icon:"fa6-brands:github"}),s[3]||(s[3]=e()),s[4]||(s[4]=i("a",{href:"https://github.com/searxng/searxng",target:"_blank",rel:"noopener noreferrer"},"SearXNG",-1))])])])}const y=p(k,[["render",g]]),m=JSON.parse('{"path":"/docs/proxmox/searxng.html","title":"SearXNG","lang":"ru-RU","frontmatter":{"title":"SearXNG","icon":"magnifying-glass","date":"2025-02-07T00:00:00.000Z","category":["Proxmox"],"tag":["LXC","search"],"description":"SearXNG — это бесплатный интернет-метапоисковый движок, который объединяет результаты более чем 70 поисковых сервисов. Это руководство настраивает рабочий экземпляр, доступ к ко...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SearXNG\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-02-07T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-05T19:52:28.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://klimov.su/docs/proxmox/searxng.html"}],["meta",{"property":"og:site_name","content":"Дмитрий Климов"}],["meta",{"property":"og:title","content":"SearXNG"}],["meta",{"property":"og:description","content":"SearXNG — это бесплатный интернет-метапоисковый движок, который объединяет результаты более чем 70 поисковых сервисов. Это руководство настраивает рабочий экземпляр, доступ к ко..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ru-RU"}],["meta",{"property":"og:updated_time","content":"2025-06-05T19:52:28.000Z"}],["meta",{"property":"article:tag","content":"search"}],["meta",{"property":"article:tag","content":"LXC"}],["meta",{"property":"article:published_time","content":"2025-02-07T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-05T19:52:28.000Z"}]]},"git":{"createdTime":1749153148000,"updatedTime":1749153148000,"contributors":[{"name":"Godparent","username":"Godparent","email":"dmitriy@klimov.su","commits":1,"url":"https://github.com/Godparent"}]},"readingTime":{"minutes":1.24,"words":373},"filePathRelative":"docs/proxmox/searxng.md","excerpt":"<p>SearXNG — это бесплатный интернет-метапоисковый движок, который объединяет результаты более чем 70 поисковых сервисов. Это руководство настраивает рабочий экземпляр, доступ к которому можно получить с помощью домена через HTTPS. Функции включают:</p>\\n<ul>\\n<li>Самостоятельно размещенный</li>\\n<li>Нет отслеживания пользователей</li>\\n<li>Нет профилирования пользователей</li>\\n<li>Около 70 поддерживаемых поисковых систем</li>\\n<li>Простая интеграция с любой поисковой системой</li>\\n<li>Файлы cookie по умолчанию не используются.</li>\\n<li>Безопасные, зашифрованные соединения (HTTPS/SSL)</li>\\n</ul>","autoDesc":true}');export{y as comp,m as data};
